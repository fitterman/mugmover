<div ng-include src="'/templates/controls.html'">
</div>

<div class="row"
  <div class="col-xs-8">
    <div id="photo-container" style="position: relative;">
      <img  id="photo-img" 
            class="img-responsive" 
            ng-src="{{photo.url}}"
            ng-click="addFaceAt($event.offsetX, $event.offsetY)" />
      <div id="face-frame-container">
        <div  class="face-frame"
              ng-repeat="face in photo.faces"
              ng-hide="face.deleted"
              mm-movable="face"
              mm-movable-behavior="move"
              mm-movable-containment="{top: -8 , left:  -15.5, width: 1000, height: 1000}"
              ng-mouseenter="setHoverFace(face)"
              ng-mouseleave="setHoverFace(null)"
              ng-style="{ width: face.scaledW(), height: face.scaledH(), 
                          left: face.scaledX(), top: face.scaledY(), 
                          cursor: (face.manual ? 'move' : 'default')}">
        <div  class="deleteControl"
              ng-style="{position: relative}"
              ng-click="confirmFaceDelection(face)">
          <span class="glyphicon glyphicon-remove"
                aria-label="{{xlate('deleteFace')}}"
                title="{{xlate('deleteFace')}}"></span>
        </div>
        <form class="name-display-form"
              ng-style="{top: face.scaledH()}">
          <input  class="name-display-box form-control input-sm ellipsis"
                  type="text"
                  readonly
                  placeholder="Unknown"
                  ng-model="face.text"
                  ng-show="(face === hoverFace)">,
        </form>
        <div class="handle"
             ng-if="face.manual"
             mm-movable="face"
             mm-movable-behavior="resize"
             mm-movable-containment="{top: (face.w / 2) + 10, left: (face.h / 2) + 10, width: 100, height: 100}"
             mm-comment="8 in the next line is the 'magic_adjustment_factor'"
             ng-style="{position: relative, top: face.h - 8 + 'px', left: face.w  - 8 + 'px'}"
           &nbsp;
        </div>

    </div>
  </div>
</div>  